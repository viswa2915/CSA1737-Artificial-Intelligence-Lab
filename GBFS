import heapq

def gbfs(graph, start, goal, heuristic):
    q = [(heuristic[start], start)]
    visited = set()
    parent = {start: None}
    while q:
        h, node = heapq.heappop(q)
        if node in visited:
            continue
        visited.add(node)
        if node == goal:
            break
        for neigh, w in graph.get(node, []):
            if neigh not in visited:
                heapq.heappush(q, (heuristic[neigh], neigh))
                parent[neigh] = node
    return list(visited), parent

n = int(input("Enter number of nodes: "))
g = {}
for _ in range(n):
    node = input("Enter node: ")
    m = int(input(f"Enter number of neighbors for {node}: "))
    neighbors = []
    for _ in range(m):
        neigh, w = input("Enter neighbor and cost (e.g. B 2): ").split()
        neighbors.append((neigh, int(w)))
    g[node] = neighbors

heuristic = {}
print("\nEnter heuristic values for each node:")
for node in g:
    heuristic[node] = int(input(f"Heuristic for {node}: "))

start = input("Enter starting node: ")
goal = input("Enter goal node: ")

print(gbfs(g, start, goal, heuristic))
